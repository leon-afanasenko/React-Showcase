(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8085],{62470:function(e,t,n){!function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o,r=n(t),i=["bottom","height","left","right","top","width"],s=new Map,l=function e(){var t=[];s.forEach((function(e,n){var o,r,s=n.getBoundingClientRect();o=s,r=e.rect,void 0===o&&(o={}),void 0===r&&(r={}),i.some((function(e){return o[e]!==r[e]}))&&(e.rect=s,t.push(e))})),t.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),o=window.requestAnimationFrame(e)};function a(e,t,n){let o,r=[];return()=>{let i;n.key&&null!=n.debug&&n.debug()&&(i=Date.now());const s=e();if(s.length===r.length&&!s.some(((e,t)=>r[t]!==e)))return o;let l;if(r=s,n.key&&null!=n.debug&&n.debug()&&(l=Date.now()),o=t(...s),null==n||null==n.onChange||n.onChange(o),n.key&&null!=n.debug&&n.debug()){const e=Math.round(100*(Date.now()-i))/100,t=Math.round(100*(Date.now()-l))/100,o=t/16,r=(e,t)=>{for(e=String(e);e.length<t;)e=" "+e;return e};console.info("%c\u23f1 "+r(t,5)+" /"+r(e,5)+" ms","\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl("+Math.max(0,Math.min(120-120*o,120))+"deg 100% 31%);",null==n?void 0:n.key)}return o}}const c=e=>e,u=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let r=t;r<=n;r++)o.push(r);return o},d=(e,t)=>{const n=function(e,t){return{observe:function(){var n=0===s.size;s.has(e)?s.get(e).callbacks.push(t):s.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]}),n&&l()},unobserve:function(){var n=s.get(e);if(n){var r=n.callbacks.indexOf(t);r>=0&&n.callbacks.splice(r,1),n.callbacks.length||s.delete(e),s.size||cancelAnimationFrame(o)}}}}(e.scrollElement,(e=>{t(e)}));if(e.scrollElement)return t(e.scrollElement.getBoundingClientRect()),n.observe(),()=>{n.unobserve()}},h=(e,t)=>{const n=()=>{t({width:e.scrollElement.innerWidth,height:e.scrollElement.innerHeight})};if(e.scrollElement)return n(),e.scrollElement.addEventListener("resize",n,{capture:!1,passive:!0}),()=>{e.scrollElement.removeEventListener("resize",n)}},f=(e,t)=>{const n=()=>t(e.scrollElement[e.options.horizontal?"scrollLeft":"scrollTop"]);if(e.scrollElement)return n(),e.scrollElement.addEventListener("scroll",n,{capture:!1,passive:!0}),()=>{e.scrollElement.removeEventListener("scroll",n)}},m=(e,t)=>{const n=()=>t(e.scrollElement[e.options.horizontal?"scrollX":"scrollY"]);if(e.scrollElement)return n(),e.scrollElement.addEventListener("scroll",n,{capture:!1,passive:!0}),()=>{e.scrollElement.removeEventListener("scroll",n)}},p=(e,t)=>e.getBoundingClientRect()[t.options.horizontal?"width":"height"],v=(e,t,n)=>{var o;null==(o=n.scrollElement)||o.scrollTo({[n.options.horizontal?"left":"top"]:e,behavior:t?"smooth":void 0})},g=(e,t,n)=>{var o;null==(o=n.scrollElement)||o.scrollTo({[n.options.horizontal?"left":"top"]:e,behavior:t?"smooth":void 0})};class x{constructor(e){var t=this;this.unsubs=[],this.scrollElement=null,this.measurementsCache=[],this.itemMeasurementsCache={},this.pendingMeasuredCacheIndexes=[],this.setOptions=e=>{Object.entries(e).forEach((t=>{let[n,o]=t;void 0===o&&delete e[n]})),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:c,rangeExtractor:u,enableSmoothScroll:!0,onChange:()=>{},measureElement:p,initialRect:{width:0,height:0},...e}},this.notify=()=>{var e,t;null==(e=(t=this.options).onChange)||e.call(t,this)},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach((e=>e())),this.unsubs=[]},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{const e=this.options.getScrollElement();this.scrollElement!==e&&(this.cleanup(),this.scrollElement=e,this.unsubs.push(this.options.observeElementRect(this,(e=>{this.scrollRect=e,this.notify()}))),this.unsubs.push(this.options.observeElementOffset(this,(e=>{this.scrollOffset=e,this.notify()}))))},this.getSize=()=>this.scrollRect[this.options.horizontal?"width":"height"],this.getMeasurements=a((()=>[this.options.count,this.options.paddingStart,this.options.getItemKey,this.itemMeasurementsCache]),((e,t,n,o)=>{const r=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const i=this.measurementsCache.slice(0,r);for(let s=r;s<e;s++){const e=n(s),r=o[e],l=i[s-1]?i[s-1].end:t,a="number"==typeof r?r:this.options.estimateSize(s),c=l+a;i[s]={index:s,start:l,size:a,end:c,key:e}}return this.measurementsCache=i,i}),{key:!1,debug:()=>this.options.debug}),this.calculateRange=a((()=>[this.getMeasurements(),this.getSize(),this.scrollOffset]),((e,t,n)=>function(e){let{measurements:t,outerSize:n,scrollOffset:o}=e;const r=t.length-1,i=((e,t,n,o)=>{for(;e<=t;){const r=(e+t)/2|0,i=n(r);if(i<o)e=r+1;else{if(!(i>o))return r;t=r-1}}return e>0?e-1:0})(0,r,(e=>t[e].start),o);let s=i;for(;s<r&&t[s].end<o+n;)s++;return{startIndex:i,endIndex:s}}({measurements:e,outerSize:t,scrollOffset:n})),{key:!1,debug:()=>this.options.debug}),this.getIndexes=a((()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count]),((e,t,n,o)=>e({...t,overscan:n,count:o})),{key:!1}),this.getVirtualItems=a((()=>[this.getIndexes(),this.getMeasurements(),this.options.measureElement]),((e,t,n)=>{const o=[];for(let r=0,i=e.length;r<i;r++){const i=e[r],s={...t[i],measureElement:e=>{if(e){const t=n(e,this);t!==s.size&&(s.start<this.scrollOffset&&(this.destinationOffset||this._scrollToOffset(this.scrollOffset+(t-s.size),!1)),this.pendingMeasuredCacheIndexes.push(i),this.itemMeasurementsCache={...this.itemMeasurementsCache,[s.key]:t},this.notify())}}};o.push(s)}return o}),{key:!1}),this.scrollToOffset=function(e,n){let{align:o}=void 0===n?{align:"start"}:n;const r=()=>{const n=t.scrollOffset,r=t.getSize();"auto"===o&&(o=e<=n?"start":e>=n+r?"end":"start"),"start"===o?t._scrollToOffset(e,!0):"end"===o?t._scrollToOffset(e-r,!0):"center"===o&&t._scrollToOffset(e-r/2,!0)};r(),requestAnimationFrame((()=>{r()}))},this.scrollToIndex=function(e,n){let{align:o,...r}=void 0===n?{align:"auto"}:n;const i=t.getMeasurements(),s=t.scrollOffset,l=t.getSize(),{count:a}=t.options,c=i[Math.max(0,Math.min(e,a-1))];if(!c)return;if("auto"===o)if(c.end>=s+l-t.options.scrollPaddingEnd)o="end";else{if(!(c.start<=s+t.options.scrollPaddingStart))return;o="start"}const u="end"===o?c.end+t.options.scrollPaddingEnd:c.start-t.options.scrollPaddingStart;t.scrollToOffset(u,{align:o,...r})},this.getTotalSize=()=>{var e;return((null==(e=this.getMeasurements()[this.options.count-1])?void 0:e.end)||this.options.paddingStart)+this.options.paddingEnd},this._scrollToOffset=(e,t)=>{let n;clearTimeout(this.scrollCheckFrame),this.destinationOffset=e,this.options.scrollToFn(e,this.options.enableSmoothScroll&&t,this);const o=()=>{let e=this.scrollOffset;this.scrollCheckFrame=n=setTimeout((()=>{this.scrollCheckFrame===n&&(this.scrollOffset!==e?(e=this.scrollOffset,o()):this.destinationOffset=void 0)}),100)};o()},this.measure=()=>{this.itemMeasurementsCache={},this.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset}}const b="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;function w(e){const t=r.useReducer((()=>({})),{})[1],n={...e,onChange:n=>{t(),null==e.onChange||e.onChange(n)}},[o]=r.useState((()=>new x(n)));return o.setOptions(n),r.useEffect((()=>o._didMount()),[]),b((()=>o._willUpdate())),o}e.Virtualizer=x,e.defaultKeyExtractor=c,e.defaultRangeExtractor=u,e.elementScroll=g,e.measureElement=p,e.memo=a,e.observeElementOffset=f,e.observeElementRect=d,e.observeWindowOffset=m,e.observeWindowRect=h,e.useVirtualizer=function(e){return w({observeElementRect:d,observeElementOffset:f,scrollToFn:g,...e})},e.useWindowVirtualizer=function(e){return w({getScrollElement:()=>"undefined"!=typeof window?window:null,observeElementRect:h,observeElementOffset:m,scrollToFn:v,...e})},e.windowScroll=v,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(67294))},16266:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/archive",function(){return n(55154)}])},55154:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return W},default:function(){return D}});var o=n(34051),r=n.n(o),i=n(85893),s=n(67294),l=n(35621),a=n(62470),c=n(25675),u=n.n(c),d=n(86896),h=n(44012),f=n(50779),m=n(88305),p=n(24697),v=n(36090),g=n(60670),x=n(40031),b=n(68715),w=n(19965),y=n(60219),j=n(12197),E=n(73149),O=n(4154),k=n(9070),C=n(45332),N=n(27226);function S(e,t,n,o,r,i,s){try{var l=e[i](s),a=l.value}catch(c){return void n(c)}l.done?t(a):Promise.resolve(a).then(o,r)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function s(e){S(i,o,r,s,l,"next",e)}function l(e){S(i,o,r,s,l,"throw",e)}s(void 0)}))}}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){z(e,t,n[t])}))}return e}function P(e){e.selection;var t=e.date,n=(e.total,e.title),o=(0,E.aC)().userInfo,l=(0,m.u)(k.Z),a=l.selections,c=l.selectionsDispatch,u=(0,m.u)(O.V),d=u.batchDownloading,h=(u.setBatchDownloading,(0,s.useState)(!1)),f=h[0],p=h[1],v=(0,s.useMemo)((function(){return a.titles.includes(n)}),[n,a.titles]);return(0,i.jsx)("div",{className:"flex flex-col gap-4 items-center",children:(0,i.jsxs)("div",{className:(0,C.CN)("group flex justify-center items-center p-1 w-auto text-base font-medium text-white  rounded-full focus:outline-none focus:ring-offset-gray-100 shadow-sm mix-blend-difference hover:bg-blend-darken transition ease-in-out active:ring-none focus:ring-red select-none",f||d?"cursor-default":"hover:bg-darkBlue-500 cursor-pointer",v?"bg-[#0827287a] hover:bg-red-900/30":""),onClick:M(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(!0),fetch("".concat("https://www.midjourney.com","/api/app/archive/day/?day=").concat(t.d,"&month=").concat(t.m,"&year=").concat(t.y,"&includePrompts=true")).then(function(){var e=M(r().mark((function e(i){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.ok){e.next=2;break}throw new Error(i.statusText);case 2:return e.next=4,i.json();case 4:s=e.sent,c({type:"toggleSelection",payload:{jobs:null===s||void 0===s?void 0:s.map((function(e){return _({},e,{username:null===o||void 0===o?void 0:o.name})})),title:n,date:t}}),p(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){(0,N.x8)("Error downloading archive: ".concat(e.message),"day-download-error"),p(!1)}));case 2:case"end":return e.stop()}}),e)}))),children:[(0,i.jsxs)("span",{className:(0,C.CN)("hidden xs:flex mr-2 ml-2 min-w-[70px] max-w-0 opacity-0 group-hover:opacity-100 group-hover:max-w-md overflow-hidden transition-all ease-in-out truncate",v&&"!opacity-100 !max-w-md"),children:[(0,i.jsx)("span",{className:"group-hover:hidden ",children:v?"Selected":"Select"}),(0,i.jsx)("span",{className:"hidden group-hover:flex",children:v?"Deselect":"Select"})]}),f?(0,i.jsx)(j.gb,{height:28,className:"animate-spin",color:""}):v?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(b.Z,{height:28,className:"flex group-hover:hidden text-emerald-500"}),(0,i.jsx)(w.Z,{height:28,className:"hidden group-hover:flex text-red-500"})]}):(0,i.jsx)(y.Z,{height:28,color:"white"})]})})}var T=n(77492),I=n(66320),R=n(27461),L=n(50402),B=n(95868);function Z(e,t,n,o,r,i,s){try{var l=e[i](s),a=l.value}catch(c){return void n(c)}l.done?t(a):Promise.resolve(a).then(o,r)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){F(e,t,n[t])}))}return e}var W=!0,D=function(e){var t=e.days,n=(0,m.u)(O.V).setModalState,o=k.Z.useContainer(),a=(o.selections,o.selectMode,o.selectionsDispatch,(0,E.aC)().userInfo),c=(0,s.useState)([]),u=c[0],f=c[1],b=(0,s.useState)({}),w=b[0],y=b[1];(0,s.useEffect)((function(){return function(){n((function(e){return V({},e,{JobIdArray:[]})}))}}),[]);var j=(0,s.useCallback)(function(){var e,t=(e=r().mark((function e(t,n,o){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===w||void 0===w?void 0:w["".concat(t,"-").concat(n,"-").concat(o)]){e.next=5;break}return e.next=3,(0,C.EE)("".concat("https://www.midjourney.com","/api/app/archive/day/?day=").concat(t,"&month=").concat(n,"&year=").concat(o,"&includePrompts=true"));case 3:i=e.sent,y((function(e){var r=V({},e);return r["".concat(t,"-").concat(n,"-").concat(o)]=i,r}));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(o,r){var i=e.apply(t,n);function s(e){Z(i,o,r,s,l,"next",e)}function l(e){Z(i,o,r,s,l,"throw",e)}s(void 0)}))});return function(e,n,o){return t.apply(this,arguments)}}(),[w]),N=(0,p.y1)(A,100,{leading:!0}),S=(0,s.useRef)(0),M=(0,s.useMemo)((function(){var e={};return t.msg?null:(null===t||void 0===t||t.forEach((function(t){var n=t.y,o=t.m,r=t.d,i=t.jobs;S.current=Math.max(S.current,i),e[n]||(e[n]={}),e[n][o]||(e[n][o]={}),e[n][o][r]=i})),e)}),[]);(0,s.useEffect)((function(){N(t,f)}),[t]);var z=(0,s.useState)(window.innerHeight),_=z[0],P=z[1];(0,s.useEffect)((function(){var e=function(){P(window.innerHeight),N(t,f)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var L=(0,s.useMemo)((function(){var e=_/10-20,n=Math.min(t.length/(t.length/e),t.length);return Math.floor(Math.max(t.length/n,1))}),[t,_]),F=(0,s.useState)(null),W=F[0],D=F[1],q=(0,s.useState)(!1),U=(q[0],q[1],(0,d.Z)()),X=t.length;return(0,i.jsxs)(R.o,{title:(null===a||void 0===a?void 0:a.name)||"User",showSearch:!1,meta:(0,i.jsx)(I.h,{title:U.formatMessage({id:"app.yourArchive"}),description:"Archive of all your non-deleted jobs"}),children:[(0,i.jsx)("div",{className:"mb-6 flex w-full flex-col",children:(0,i.jsxs)("div",{className:"flex w-full flex-wrap items-center justify-between gap-4",children:[(0,i.jsx)("h1",{className:"flex h-16 items-center gap-4 text-4xl font-medium text-white",children:(0,i.jsx)(h.Z,{id:"app.yourArchive"})}),(0,i.jsxs)(g.Z,{href:"/app",className:"!w-auto max-w-max rounded-full !px-4",children:[(0,i.jsx)(l.Z,{height:20,className:"mr-2 text-slate-300"})," ",(0,i.jsx)(h.Z,{id:"app.goBack"})]})]})}),(0,i.jsx)(T.K,{}),(0,i.jsx)(x.H,{query:void 0,returnHref:"/app/archive/"},"archiveGallery"),0===Object.keys(w).length&&(0,i.jsxs)("div",{className:"flex w-full flex-col justify-center gap-6 py-6",children:[(0,i.jsx)("h3",{className:"mt-12 text-center text-xl text-white",children:(0,i.jsx)(h.Z,{id:"app.theApiSeemsToBe"})}),(0,i.jsx)(v.Z,{className:"m-auto min-w-[120px] max-w-fit rounded-full !bg-blue-900/40 !px-3 text-blue-600 hover:!bg-blue-900/80",onClick:function(){return window.location.reload()},children:"Reload"})]}),(0,i.jsx)("div",{id:"listContainer",className:"relative h-auto w-full",children:u&&t&&(0,i.jsx)(H,{days:t,rows:u,fetchCallback:j,jobIds:w,scrollIndex:W})}),(0,i.jsx)("div",{className:"lg:max-w-screen fixed inset-y-0 right-0 z-20 box-content flex w-[40px] max-w-[40px] flex-col-reverse items-end justify-between bg-gradient-to-l from-darkBlue-900 via-darkBlue-900/70 py-4 pr-4 sm:w-full xl:py-8 xl:pr-10 ",children:M&&Object.keys(M).map((function(e,t){var n=M[e];return(0,i.jsxs)(s.Fragment,{children:[n&&Object.keys(n).map((function(t,o){X--;var r=n[t],l=X;return(0,i.jsxs)(s.Fragment,{children:[(0,i.jsx)("div",{className:"group relative flex w-full cursor-pointer flex-col items-end gap-2",onClick:function(){D(l)},children:(0,i.jsx)("h3",{className:"my-2 h-full min-w-max select-none text-right text-sm font-medium leading-none text-slate-300 group-hover:text-white",children:(0,B.dateToText)({m:t})})}),r&&Object.keys(r).slice(1).map((function(n,o){var s=--X;return(0,i.jsxs)("div",{className:(0,C.CN)("group relative flex items-center justify-end w-full h-full cursor-pointer"),onClick:function(){D(s)},children:[(0,i.jsx)("div",{className:"pointer-events-none absolute right-0 top-1/2 z-20 mr-3 hidden w-auto min-w-max max-w-full -translate-y-1/2 cursor-pointer select-none rounded border border-uiBlue-500/20 bg-darkBlue-500 px-2 py-1 font-mono text-sm font-medium text-white group-hover:flex",children:(0,B.dateToText)({d:n,m:t,y:e})}),o%L===0?(0,i.jsx)("div",{className:(0,C.CN)("w-1 h-1 absolute group-hover:z-10 bg-slate-700 group-hover:bg-slate-400 rounded-full transition-all"),style:{width:"".concat(20*Math.pow(r[n]/S.current,.35),"px"),minWidth:"0.25rem"}}):(0,i.jsx)("div",{className:(0,C.CN)("hidden absolute group-hover:z-10 group-hover:block w-1 h-1 bg-slate-700 group-hover:bg-slate-400 rounded-full transition-all"),style:{width:"".concat(20*Math.pow(r[n]/S.current,.35),"px"),minWidth:"0.25rem"}})]},o)}))]},o)})),(0,i.jsx)("h3",{className:"my-2 h-full min-w-max cursor-pointer select-none text-right text-sm font-medium leading-none text-slate-300 hover:text-white",onClick:function(){D(0)},children:"Today"})]},t)}))})]})};function A(e,t){var n=[];e.length>0&&(null===e||void 0===e||e.forEach((function(e){var t=Math.floor(Math.min(document.getElementById("listContainer").offsetWidth,1280)/136)||1,o=Math.ceil(parseInt(e.jobs,10)/t),r=136*o;n.push({columns:t,rows:o,height:r,cellSize:136})})),t(n))}function H(e){var t=e.rows,n=e.days,o=e.jobIds,r=e.fetchCallback,l=e.scrollIndex,c=s.useRef(null),u=(0,a.useWindowVirtualizer)({count:t.length,estimateSize:function(e){return t[e].height+102},overscan:1,enableSmoothScroll:!1});return(0,s.useEffect)((function(){null!=l&&u.scrollToIndex(l,{align:"start"})}),[l]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{ref:c,className:"List h-full w-full select-none",children:(0,i.jsx)("div",{id:"list",style:{height:u.getTotalSize(),width:"100%",position:"relative"},children:u.getVirtualItems().map((function(e){var s=n[e.index],l=(0,B.dateToText)({d:s.d,m:s.m,y:s.y});return(0,i.jsx)("div",{ref:e.measureElement,className:e.index%2?"ListItemOdd":"ListItemEven",style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(e.start,"px)")},children:(0,i.jsxs)("div",{style:{height:t[e.index].height+100},children:[(0,i.jsxs)("div",{className:"flex w-full items-start justify-between pr-8 xl:pr-0",children:[(0,i.jsxs)("h2",{className:"mb-4 text-2xl font-medium text-slate-200",children:[l," ",(0,i.jsxs)("span",{className:"text-base text-slate-500",children:["(",s.jobs,")"]})]}),(0,i.jsx)(P,{selection:null===o||void 0===o?void 0:o["".concat(s.d,"-").concat(s.m,"-").concat(s.y)],date:{y:s.y,m:s.m,d:s.d},total:s.jobs,title:l})]}),(0,i.jsx)(f.Z,{node:document&&document.getElementById("list"),children:(0,i.jsx)(q,{jobs:s.jobs,grid:t[e.index],day:s,jobIds:o,fetchCallback:r,offset:e.start,parentRef:c})})]})},e.index)}))})})})}function q(e){var t=e.jobs,n=e.grid,o=e.day,r=e.jobIds,l=e.fetchCallback,c=e.offset,d=(e.parentRef,"".concat(o.d,"-").concat(o.m,"-").concat(o.y)),h=(0,a.useWindowVirtualizer)({count:n.rows,paddingStart:c+50,estimateSize:function(){return n.cellSize},overscan:10}),f=(0,a.useWindowVirtualizer)({horizontal:!0,count:n.columns,estimateSize:function(){return n.cellSize},overscan:1});(0,s.useEffect)((function(){var e=setTimeout((function(){return l(o.d,o.m,o.y)}),50);return function(){clearTimeout(e)}}),[]);var p=(0,m.u)(O.V).setModalState;return(0,i.jsx)(i.Fragment,{children:h.getVirtualItems().map((function(e){return(0,i.jsx)(s.Fragment,{children:f.getVirtualItems().map((function(o){var s,l=e.index*n.columns+o.index,a=null===r||void 0===r||null===(s=r[d])||void 0===s?void 0:s[l],c=(null===a||void 0===a?void 0:a.id)||null;return t-1>=l?(0,i.jsx)("button",{className:(0,C.CN)("group overflow-visible relative z-10 hover:z-20 items-center text-sm font-bold  ",!c&&"cursor-default pointer-events-none"),"data-jobid":c,style:{position:"absolute",top:0,left:0,width:"".concat(o.size-8,"px"),height:"".concat(e.size-8,"px"),transform:"translateX(".concat(o.start,"px) translateY(").concat(e.start,"px)")},onClick:function(){p((function(e){return V({},e,{JobIdArray:null===r||void 0===r?void 0:r[d]})})),(0,C.rX)(c)},children:(0,i.jsx)(u(),{alt:"",src:c?(0,C.H7)(a,{relative:!0}):"https://upload.wikimedia.org/wikipedia/commons/c/ca/1x1.png",layout:"fixed",loader:L.qs,unoptimized:!c,objectFit:"cover",loading:"eager",className:"rounded-md bg-slate-500/10 transition-transform duration-100 ease-in-out group-hover:scale-[95%]",height:128,width:128})},l):null}))},e.index)}))})}},50779:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var o=n(73935),r=n(67294),i=n(45697),s=n.n(i),l=!("undefined"===typeof window||!window.document||!window.document.createElement),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){return c(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return l?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),o.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(r.Component);d.propTypes={children:s().node.isRequired,node:s().any};var h=d,f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var v=function(e){function t(){return m(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),f(t,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){o.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"===typeof this.props.children.type&&(t=r.cloneElement(this.props.children)),this.portal=o.unstable_renderSubtreeIntoContainer(this,t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),t}(r.Component),g=v;v.propTypes={children:s().node.isRequired,node:s().any};var x=o.createPortal?h:g},12450:function(e,t,n){"use strict";var o=n(67294);const r=o.forwardRef((function(e,t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))}));t.Z=r},35621:function(e,t,n){"use strict";var o=n(67294);const r=o.forwardRef((function(e,t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"}))}));t.Z=r},79594:function(e,t,n){"use strict";var o=n(67294);const r=o.forwardRef((function(e,t){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"}))}));t.Z=r}},function(e){e.O(0,[5868,9774,2888,179],(function(){return t=16266,e(e.s=t);var t}));var t=e.O();_N_E=t}]);