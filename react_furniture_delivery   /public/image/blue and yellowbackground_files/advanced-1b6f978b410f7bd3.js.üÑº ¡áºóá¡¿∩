(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2611],{37558:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/search/advanced",function(){return r(9145)}])},56202:function(e,t,r){"use strict";r.d(t,{m:function(){return n}});var s=r(85893),n=(r(67294),function(e){var t=e.title,r=(e.fixedData,e.avatar),n=e.CustomButtons,a=e.CustomButtonsTitle,o=e.subheading;return(0,s.jsxs)("div",{className:"flex flex-col mb-6 w-full",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 justify-between items-center w-full",children:[(0,s.jsxs)("h1",{className:"flex items-center h-16 text-4xl font-medium text-white",children:[r," ",t," ",a]}),(0,s.jsx)("div",{className:"flex flex-row grow gap-1 justify-end justify-self-end items-center w-auto",children:n})]}),o&&(0,s.jsx)("h4",{className:"mt-2 text-xl text-left text-slate-300",children:o})]})})},9145:function(e,t,r){"use strict";r.r(t),r.d(t,{feedButtons:function(){return B}});var s=r(85893),n=r(67294),a=r(38264),o=r(63233),i=r(41664),l=r.n(i),d=r(11163),c=r(44012),u=r(86896),f=r(88305),m=r(36090),h=r(12197),p=r(50073),x=r(85703),v=r(56202),b=r(40031),j=r(45591),g=r(52937),y=r(4154),w=r(66320),N=r(11434),k=r(27461),S=r(45332),O=r(55670),C=r(37940),q=r(29374);function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B=function(e){return(0,s.jsxs)("div",{className:"relative flex w-full gap-2 md:w-auto",children:[(0,s.jsx)(l(),{href:C.jk.likes,children:(0,s.jsx)("a",{className:(0,S.CN)("group py-1 px-4 w-full text-lg font-medium text-center text-slate-500 border-b-2 border-transparent hover:border-slate-700 transition md:w-auto","bookmarks"===e&&"!border-slate-400"),children:(0,s.jsx)(c.Z,{id:"nav.bookmarks"})})},"bookmarked"),(0,s.jsx)(l(),{href:C.jk.feed,children:(0,s.jsx)("a",{className:(0,S.CN)("group py-1 px-4 w-full text-lg font-medium text-center text-slate-500 border-b-2 border-transparent hover:border-slate-700 transition md:w-auto","follows"===e&&"!border-slate-400"),children:(0,s.jsx)(c.Z,{id:"app.yourFeed"})})},"followed"),(0,s.jsx)(l(),{href:C.jk.all,children:(0,s.jsx)("a",{className:(0,S.CN)("group py-1 px-4 w-full text-lg font-medium text-center text-slate-500 border-b-2 border-transparent hover:border-slate-700 transition md:w-auto","community"===e&&"!border-slate-400"),children:(0,s.jsx)(c.Z,{id:"app.community"})})},"community")]})};function L(){var e=(0,n.useState)(!1),t=e[0],r=e[1];(0,n.useEffect)((function(){var e=sessionStorage.getItem("hasClosedSearchBanner");r("true"===e)}),[]);var o=function(){r(!0),sessionStorage.setItem("hasClosedSearchBanner","true")};return t?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(N.Z,{position:"bottom",children:(0,s.jsx)("div",{className:"md:px-8",children:(0,s.jsx)("div",{className:"mb-4 rounded-lg bg-blue-800 p-2 shadow-lg sm:p-3",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 ",children:[(0,s.jsxs)("div",{className:"flex w-full flex-1 items-start justify-between xs:items-center md:w-0 md:justify-start",children:[(0,s.jsx)("span",{className:"flex rounded-lg bg-blue-900 p-2",children:(0,s.jsx)(a.Z,{className:"h-6 w-6 text-white","aria-hidden":"true"})}),(0,s.jsxs)("p",{className:"ml-3 text-base text-white ",children:[(0,s.jsx)("span",{className:"md:hidden",children:"Advanced search is unstable and may not respond."}),(0,s.jsx)("span",{className:"hidden md:inline",children:"Advanced search (previously the normal search) is unstable and may not respond."})]}),(0,s.jsx)(m.Z,{title:"Close",className:"flex w-auto items-center justify-center !p-3 text-sm font-bold hover:bg-darkBlue-500/50 md:hidden",onClick:o,children:(0,s.jsx)(h.x8,{height:"16"})})]}),(0,s.jsx)("div",{className:"hidden w-full w-auto gap-4 md:flex",children:(0,s.jsx)(m.Z,{title:"Close",className:"hidden w-auto items-center justify-center !p-3 text-sm font-bold hover:bg-darkBlue-500/50 md:flex",onClick:o,children:(0,s.jsx)(h.x8,{height:"16"})})})]})})})})}t.default=function(){var e,t,r,a,i,l=(0,f.u)(j.w).useListOfJobs,c=(0,f.u)(y.V),m=(c.modalState,c.setModalState),h=(c.query,c.setQueryVal,c.setTempQuery,c.fullWidth),N=(0,d.useRouter)(),C=l({skipDedupe:!1,defaultSort:"hot",searchType:"advanced",initialSettings:{jobStatus:"completed",orderBy:(null===(e=N.query)||void 0===e?void 0:e.sort)||"hot",prompt:(null===(t=N.query)||void 0===t?void 0:t.search)||"Emptiness"}},{label:O.xe.TODO});(0,n.useEffect)((function(){var e,t,r;(null===(e=N.query)||void 0===e||null===(t=e.search)||void 0===t?void 0:t.length)>0&&(C.settings.prompt=(null===(r=N.query)||void 0===r?void 0:r.search)||null);setTimeout((function(){return C.firstLoad()}),1)}),[]),(0,n.useEffect)((function(){C.jobsList.length>0&&m((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){E(e,t,r[t])}))}return e}({},e,{jobDataArray:C.jobsList,jobDataArrayCache:C.jobsList})}))}),[C.jobsList,m]);var B=(0,u.Z)();return(0,s.jsxs)(g.x.Provider,{initialState:{feed:C},children:[(0,s.jsxs)(k.o,{title:"All",fullWidth:h,className:S.VU,icon:(0,s.jsx)(o.Z,{className:"text-[#95B4F0]",height:24}),meta:(0,s.jsx)(w.h,{title:"".concat(B.formatMessage({id:"app.midjourneyFeed"})).concat((null===(r=N.query)||void 0===r?void 0:r.search)?": ".concat(null===(a=N.query)||void 0===a?void 0:a.search," "):""),description:B.formatMessage({id:"app.feedOfTheLatest"})}),children:[(0,s.jsx)(v.m,{title:B.formatMessage({id:"app.searchAdvanced"}),CustomButtons:(0,q.SearchButtons)("searchAdvanced")}),(0,s.jsx)(L,{}),(0,s.jsx)(x.x,{fixedData:C}),(0,s.jsx)(b.H,{query:null===(i=N.query)||void 0===i?void 0:i.jobId,returnHref:N.pathname}),(0,s.jsx)(p.Z,{fixedData:C,settings:{dedupe:!0}},"advanced_search")]})," "]})}},29374:function(e,t,r){"use strict";r.r(t),r.d(t,{SearchButtons:function(){return C}});var s=r(85893),n=r(67294),a=r(53737),o=r(25675),i=r.n(o),l=r(41664),d=r.n(l),c=r(11163),u=r(86896),f=r(88305),m=r(68697),h=r(36090),p=r(50073),x=r(56202),v=r(40031),b=r(45591),j=r(52937),g=r(4154),y=r(66320),w=r(27461),N=r(45332),k=r(55670),S=r(37940);function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=function(e){var t=(0,c.useRouter)().query;return(0,s.jsxs)("div",{className:"relative flex w-full gap-2 lg:w-auto",children:[(0,s.jsx)(d(),{href:"".concat(S.jk.search,"/?search=").concat(t.search),children:(0,s.jsx)("a",{className:(0,N.CN)("group py-1 px-4 w-full text-lg font-medium text-center text-slate-500 border-b-2 border-transparent hover:border-slate-700 transition md:w-auto","search"===e&&"!border-slate-400"),children:"Similarity"})},"search"),(0,s.jsx)(d(),{href:"".concat(S.jk.searchAdvanced,"/?search=").concat(t.search),children:(0,s.jsx)("a",{className:(0,N.CN)("group py-1 px-4 w-full text-lg font-medium text-center text-slate-500 border-b-2 border-transparent hover:border-slate-700 transition md:w-auto","searchAdvanced"===e&&"!border-slate-400"),children:"Advanced"})},"searchAdvanced")]})};t.default=function(){var e,t,r,o,i,l,d,S,E,B,L=(0,f.u)(b.w).useListOfJobs,Z=(0,f.u)(g.V),_=Z.setModalState,D=Z.fullWidth,A=(0,c.useRouter)(),P=L({skipDedupe:!1,defaultSort:"hot",searchType:"vector",initialSettings:{jobStatus:"completed",amount:50,orderBy:(null===(e=A.query)||void 0===e?void 0:e.sort)||"hot",prompt:(null===(t=A.query)||void 0===t?void 0:t.search)||""}},{label:k.xe.TODO});(0,n.useEffect)((function(){setTimeout((function(){return P.firstLoad()}),1)}),[]),(0,n.useEffect)((function(){P.jobsList.length>0&&_((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},s=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),s.forEach((function(t){O(e,t,r[t])}))}return e}({},e,{jobDataArray:P.jobsList,jobDataArrayCache:P.jobsList})}))}),[P.jobsList,_]);var T=(0,u.Z)(),M=(0,n.useState)((0,m.Z)(null===(r=P.settings)||void 0===r?void 0:r.prompt)?"https://cdn.midjourney.com/".concat(null===(o=P.settings)||void 0===o?void 0:o.prompt,"/grid_0.webp"):null),F=M[0],I=M[1];return(0,n.useEffect)((function(){var e;if(null===(e=P.settings)||void 0===e?void 0:e.prompt){var t,r,s,n;if((0,m.Z)(null===(t=P.settings)||void 0===t?void 0:t.prompt))return I("https://cdn.midjourney.com/".concat(null===(s=P.settings)||void 0===s?void 0:s.prompt,"/grid_0.webp"));if((0,N.EQ)(null===(r=P.settings)||void 0===r?void 0:r.prompt,{includes:["cdn.midjourney.com","mj-gallery.com","i.mj.run"]}))return I(null===(n=P.settings)||void 0===n?void 0:n.prompt)}I(null)}),[null===(i=P.settings)||void 0===i?void 0:i.prompt,F]),(0,s.jsxs)(j.x.Provider,{initialState:{feed:P},children:[(0,s.jsxs)(w.o,{title:T.formatMessage({id:"app.search"}),fullWidth:D,className:N.VU,icon:(0,s.jsx)(a.Z,{className:"text-[#95B4F0]",height:24}),meta:(0,s.jsx)(y.h,{title:"".concat(T.formatMessage({id:"app.midjourneyFeed"})).concat((null===(l=A.query)||void 0===l?void 0:l.search)?": ".concat(null===(d=A.query)||void 0===d?void 0:d.search," "):""),description:T.formatMessage({id:"app.feedOfTheLatest"})}),children:[(0,s.jsx)(x.m,{title:T.formatMessage({id:"app.search"}),CustomButtons:C("search")}),(0,s.jsx)(v.H,{query:null===(S=A.query)||void 0===S?void 0:S.jobId,returnHref:A.pathname}),F&&(0,s.jsx)("div",{className:"flex items-end justify-between",children:(0,s.jsx)(q,{image:F},null===(E=P.settings)||void 0===E?void 0:E.prompt)}),(0,s.jsx)(p.Z,{fixedData:P,settings:{dedupe:!0}},null===(B=P.settings)||void 0===B?void 0:B.prompt),P.jobsList.length<=50&&P.jobsList.length>0&&"loading"!==P.loadingState&&!P.fetchError&&!P.searching&&(0,s.jsx)("div",{className:"mb-24 flex w-full justify-center py-6",children:(0,s.jsx)(h.Z,{className:"m-auto min-w-[120px] max-w-fit rounded-full !bg-blue-900/40 !px-3 text-blue-600 hover:!bg-blue-900/80",tooltip:"Searches a wider pool of jobs but takes longer to load and may be higher quality but less accurate.",onClick:function(){P.refresh({hardReset:!0,querySettings:{amount:500}})},children:"Expand Search"})})]})," "]})};var q=function(e){var t=e.image;return(0,s.jsx)("div",{className:".border .border-dashed mb-4 flex flex-col items-center justify-center rounded border-slate-800",children:(0,s.jsx)(i(),{onClick:function(){window.open(t,"_blank")},src:t,unoptimized:!0,alt:"Image Preview",layout:"intrinsic",width:128,height:128,objectFit:"contain",className:"cursor-pointer rounded-lg bg-darkBlue-700"})})}}},function(e){e.O(0,[9774,2888,179],(function(){return t=37558,e(e.s=t);var t}));var t=e.O();_N_E=t}]);