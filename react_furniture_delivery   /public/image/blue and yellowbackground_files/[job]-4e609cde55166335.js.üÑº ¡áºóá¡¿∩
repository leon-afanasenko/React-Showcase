(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9989],{65012:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/jobs/[job]",function(){return n(19411)}])},19411:function(e,t,n){"use strict";n.r(t);var o=n(34051),a=n.n(o),s=n(85893),i=n(67294),r=n(44080),u=n(11163),c=n(86896),l=n(1852),f=n(541),d=n(12197),h=n(65287),v=n(45591),j=n(18647),m=n(66320),x=n(27461),p=n(45332);function b(e,t,n,o,a,s,i){try{var r=e[s](i),u=r.value}catch(c){return void n(c)}r.done?t(u):Promise.resolve(u).then(o,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var s=e.apply(t,n);function i(e){b(s,o,a,i,r,"next",e)}function r(e){b(s,o,a,i,r,"throw",e)}i(void 0)}))}}function g(){return(g=w(a().mark((function e(t){var n,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={jobIds:[t]},e.next=3,(0,p.Gf)("".concat("https://www.midjourney.com","/api/app/job-status/"),n);case 3:return o=e.sent,e.abrupt("return",{jobData:o});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(){var e,t=v.w.useContainer().jobCache,n=(0,i.useState)(),o=n[0],a=n[1],p=(0,i.useState)(),b=p[0],w=p[1],y=(0,u.useRouter)(),_=(y.router,y.query),N=(0,i.useState)(!1),E=N[0],D=N[1],P=(0,l.useMediaQuery)({maxWidth:1024}),S=(0,i.useState)(!1),k=S[0],C=S[1];(0,i.useEffect)((function(){(function(e){return g.apply(this,arguments)})(_.job).then((function(e){var n,o,s,i;if((null===(n=e.jobData)||void 0===n?void 0:n.msg)||(null===(o=e.jobData)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.msg)||500===(null===(i=e.jobData)||void 0===i?void 0:i.status))return w({msg:"Failed to fetch job"});var r=new j.o(e.jobData);t.set(r),a(r),w(r.state)}))}),[_.job]);var M=i.useRef(window);(0,i.useEffect)((function(){window.scrollTo(0,0),D(!1)}),[o]);var R=(0,c.Z)();return(0,i.useEffect)((function(){return C(P)}),[P]),(0,s.jsx)(x.o,{showSearch:k,meta:(0,s.jsx)(m.h,{title:"".concat(R.formatMessage({id:"home.meta.title"}),": ").concat(_.job),description:"".concat(R.formatMessage({id:"home.meta.title"}),": ").concat(_.job,".")}),children:(null===b||void 0===b?void 0:b.msg)||(null===b||void 0===b||null===(e=b[0])||void 0===e?void 0:e.msg)||500===(null===b||void 0===b?void 0:b.status)?(0,s.jsxs)("div",{className:"flex flex-col gap-4 justify-center h-full",children:[(0,s.jsx)("h1",{className:"flex justify-center items-center text-3xl text-center text-slate-100",children:"Failed to fetch job"}),(0,s.jsxs)("h3",{className:"flex justify-center items-center text-xl text-center text-slate-400",children:["Either the API is having issues or you ",(0,s.jsx)("br",{})," don't have permission to view this job."]})]}):b?(0,s.jsx)(r.u,{id:"jobPage",appear:!0,show:!0,className:"z-1",children:(0,s.jsx)(f.J.Provider,{initialState:{job:o,setData:w},children:(0,s.jsx)(h.Z,{modalRef:M,jobData:b,loaded:E,setLoaded:D,type:"standalone"})})}):(0,s.jsx)("div",{className:"flex flex-col gap-4 justify-center items-center w-full h-full",children:(0,s.jsx)(d.gb,{height:24,className:"text-blue-500 animate-spin"})})})}}},function(e){e.O(0,[9774,2888,179],(function(){return t=65012,e(e.s=t);var t}));var t=e.O();_N_E=t}]);