(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9276],{15757:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/search",function(){return r(29374)}])},56202:function(e,t,r){"use strict";r.d(t,{m:function(){return s}});var n=r(85893),s=(r(67294),function(e){var t=e.title,r=(e.fixedData,e.avatar),s=e.CustomButtons,i=e.CustomButtonsTitle,o=e.subheading;return(0,n.jsxs)("div",{className:"flex flex-col mb-6 w-full",children:[(0,n.jsxs)("div",{className:"flex flex-wrap gap-4 justify-between items-center w-full",children:[(0,n.jsxs)("h1",{className:"flex items-center h-16 text-4xl font-medium text-white",children:[r," ",t," ",i]}),(0,n.jsx)("div",{className:"flex flex-row grow gap-1 justify-end justify-self-end items-center w-auto",children:s})]}),o&&(0,n.jsx)("h4",{className:"mt-2 text-xl text-left text-slate-300",children:o})]})})},29374:function(e,t,r){"use strict";r.r(t),r.d(t,{SearchButtons:function(){return k}});var n=r(85893),s=r(67294),i=r(53737),o=r(25675),a=r.n(o),l=r(41664),c=r.n(l),u=r(11163),d=r(86896),f=r(88305),m=r(68697),h=r(36090),p=r(50073),v=r(56202),x=r(40031),b=r(45591),j=r(52937),g=r(4154),y=r(66320),w=r(27461),N=r(45332),_=r(55670),O=r(37940);function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(e){var t=(0,u.useRouter)().query;return(0,n.jsxs)("div",{className:"relative flex w-full gap-2 lg:w-auto",children:[(0,n.jsx)(c(),{href:"".concat(O.jk.search,"/?search=").concat(t.search),children:(0,n.jsx)("a",{className:(0,N.CN)("group py-1 px-4 w-full text-lg font-medium text-center text-slate-500 border-b-2 border-transparent hover:border-slate-700 transition md:w-auto","search"===e&&"!border-slate-400"),children:"Similarity"})},"search"),(0,n.jsx)(c(),{href:"".concat(O.jk.searchAdvanced,"/?search=").concat(t.search),children:(0,n.jsx)("a",{className:(0,N.CN)("group py-1 px-4 w-full text-lg font-medium text-center text-slate-500 border-b-2 border-transparent hover:border-slate-700 transition md:w-auto","searchAdvanced"===e&&"!border-slate-400"),children:"Advanced"})},"searchAdvanced")]})};t.default=function(){var e,t,r,o,a,l,c,O,C,q,L=(0,f.u)(b.w).useListOfJobs,P=(0,f.u)(g.V),B=P.setModalState,D=P.fullWidth,T=(0,u.useRouter)(),A=L({skipDedupe:!1,defaultSort:"hot",searchType:"vector",initialSettings:{jobStatus:"completed",amount:50,orderBy:(null===(e=T.query)||void 0===e?void 0:e.sort)||"hot",prompt:(null===(t=T.query)||void 0===t?void 0:t.search)||""}},{label:_.xe.TODO});(0,s.useEffect)((function(){setTimeout((function(){return A.firstLoad()}),1)}),[]),(0,s.useEffect)((function(){A.jobsList.length>0&&B((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){S(e,t,r[t])}))}return e}({},e,{jobDataArray:A.jobsList,jobDataArrayCache:A.jobsList})}))}),[A.jobsList,B]);var Z=(0,d.Z)(),M=(0,s.useState)((0,m.Z)(null===(r=A.settings)||void 0===r?void 0:r.prompt)?"https://cdn.midjourney.com/".concat(null===(o=A.settings)||void 0===o?void 0:o.prompt,"/grid_0.webp"):null),F=M[0],R=M[1];return(0,s.useEffect)((function(){var e;if(null===(e=A.settings)||void 0===e?void 0:e.prompt){var t,r,n,s;if((0,m.Z)(null===(t=A.settings)||void 0===t?void 0:t.prompt))return R("https://cdn.midjourney.com/".concat(null===(n=A.settings)||void 0===n?void 0:n.prompt,"/grid_0.webp"));if((0,N.EQ)(null===(r=A.settings)||void 0===r?void 0:r.prompt,{includes:["cdn.midjourney.com","mj-gallery.com","i.mj.run"]}))return R(null===(s=A.settings)||void 0===s?void 0:s.prompt)}R(null)}),[null===(a=A.settings)||void 0===a?void 0:a.prompt,F]),(0,n.jsxs)(j.x.Provider,{initialState:{feed:A},children:[(0,n.jsxs)(w.o,{title:Z.formatMessage({id:"app.search"}),fullWidth:D,className:N.VU,icon:(0,n.jsx)(i.Z,{className:"text-[#95B4F0]",height:24}),meta:(0,n.jsx)(y.h,{title:"".concat(Z.formatMessage({id:"app.midjourneyFeed"})).concat((null===(l=T.query)||void 0===l?void 0:l.search)?": ".concat(null===(c=T.query)||void 0===c?void 0:c.search," "):""),description:Z.formatMessage({id:"app.feedOfTheLatest"})}),children:[(0,n.jsx)(v.m,{title:Z.formatMessage({id:"app.search"}),CustomButtons:k("search")}),(0,n.jsx)(x.H,{query:null===(O=T.query)||void 0===O?void 0:O.jobId,returnHref:T.pathname}),F&&(0,n.jsx)("div",{className:"flex items-end justify-between",children:(0,n.jsx)(E,{image:F},null===(C=A.settings)||void 0===C?void 0:C.prompt)}),(0,n.jsx)(p.Z,{fixedData:A,settings:{dedupe:!0}},null===(q=A.settings)||void 0===q?void 0:q.prompt),A.jobsList.length<=50&&A.jobsList.length>0&&"loading"!==A.loadingState&&!A.fetchError&&!A.searching&&(0,n.jsx)("div",{className:"mb-24 flex w-full justify-center py-6",children:(0,n.jsx)(h.Z,{className:"m-auto min-w-[120px] max-w-fit rounded-full !bg-blue-900/40 !px-3 text-blue-600 hover:!bg-blue-900/80",tooltip:"Searches a wider pool of jobs but takes longer to load and may be higher quality but less accurate.",onClick:function(){A.refresh({hardReset:!0,querySettings:{amount:500}})},children:"Expand Search"})})]})," "]})};var E=function(e){var t=e.image;return(0,n.jsx)("div",{className:".border .border-dashed mb-4 flex flex-col items-center justify-center rounded border-slate-800",children:(0,n.jsx)(a(),{onClick:function(){window.open(t,"_blank")},src:t,unoptimized:!0,alt:"Image Preview",layout:"intrinsic",width:128,height:128,objectFit:"contain",className:"cursor-pointer rounded-lg bg-darkBlue-700"})})}}},function(e){e.O(0,[9774,2888,179],(function(){return t=15757,e(e.s=t);var t}));var t=e.O();_N_E=t}]);